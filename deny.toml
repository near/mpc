[licenses]
clarify = [
  { name = "near-chain", expression = "MIT OR Apache-2.0", license-files = [
  ] },
]
allow = [
  "Apache-2.0",
  "MIT",
  "BSD-3-Clause",
  "BSD-2-Clause",
  "MPL-2.0",
  "Zlib",
  "Apache-2.0 WITH LLVM-exception",
  "ISC",
  "Unicode-3.0",
  "CC0-1.0",
  "CDLA-Permissive-2.0",
  "CDDL-1.0",
]

[advisories]
ignore = [
  "RUSTSEC-2022-0054", # wee_alloc is unmaintained
  "RUSTSEC-2025-0134", # rustls-pemfile is unmaintained
  "RUSTSEC-2024-0370", # proc-macro-error is unmaintained
  "RUSTSEC-2024-0436", # paste is unmaintained
  "RUSTSEC-2025-0119", # number_prefix is unmaintained
  "RUSTSEC-2024-0384", # instant is unmaintained
  "RUSTSEC-2026-0002", # TODO(#1730): Remove once nearcore updates to a fixed version
  # Remove when https://github.com/Phala-Network/dcap-qvl/issues/98 is closed
  "RUSTSEC-2023-0071", # rsa has a timing vulnerability
]

[bans]
multiple-versions = "deny"
skip = [{ name = "prost-types" }]
skip-tree = [
  { name = "axum" },
  { name = "near-jsonrpc-client" },
  { name = "near-vm-runner" },
  { name = "pprof" },
  { name = "reqwest" },
  { name = "lru" },                 # TODO(#1730): Remove once nearcore updates to a fixed version
]

[sources]
unknown-git = "deny"
allow-git = [
  "https://github.com/near/nearcore",
  "https://github.com/near/threshold-signatures",
]
